\doxysection{Referencia de la clase App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}Api\+Get\+Controller}
\hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController}{}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController}\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}


Controlador para manejar solicitudes GET a la API.  




Diagrama de colaboración de App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}Api\+Get\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{classApp_1_1Controllers_1_1Api_1_1ApiGetController__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Métodos públicos}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a9702ba600b72f8257ba5cc6bbb14405a}{\+\_\+\+\_\+construct}} (\$pdo, \$db)
\begin{DoxyCompactList}\small\item\em Constructor del controlador. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_abb00071b44d7a1b559b50eb9690bdc2f}{get\+All\+Fungi}} ()
\begin{DoxyCompactList}\small\item\em Obtiene la lista completa de hongos. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a32934272cdad1004a05df79c586d7567}{get\+Fungi\+By\+Edibility}} (\$edibility)
\begin{DoxyCompactList}\small\item\em Obtiene hongos filtrados por comestibilidad. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a0a410891959f2552b48e01cb6b15f544}{get\+Fungi\+Paginated}} (\$page, \$limit)
\begin{DoxyCompactList}\small\item\em Obtiene hongos con paginación. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a67e731e7af27d93b388c233394b86269}{get\+Fungus\+By\+Id}} (\$id, \$user\+Id=null)
\begin{DoxyCompactList}\small\item\em Obtiene detalles de un hongo específico. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a7ca32a5d523b8859df919bfc0d3b3684}{get\+Random\+Fungus}} (\$user\+Id=null)
\begin{DoxyCompactList}\small\item\em Obtiene un hongo aleatorio. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a33518bdaefac3b63c1385daee9d617c1}{get\+User\+Favorites}} (\$user\+Id)
\begin{DoxyCompactList}\small\item\em Obtiene los hongos favoritos de un usuario. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_aaa2530e28e9af86618de9b0af4fc29e1}{get\+Users}} ()
\begin{DoxyCompactList}\small\item\em Obtiene la lista de usuarios (solo administradores) \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_ae9257dad15b8ca14f6183c0610d852a9}{search\+Fungi}} (\$param, \$value)
\begin{DoxyCompactList}\small\item\em Busca hongos por parámetro y valor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_ad38efdd58e10c822fccb780ac688c4ea}{verify\+Auth}} (\$user)
\begin{DoxyCompactList}\small\item\em Verifica autenticación del usuario actual. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_ad271f1b46463a2ef68b3ff1d15df9b31}{verify\+Auth\+Token}} (\$token, \$verify\+Callback)
\begin{DoxyCompactList}\small\item\em Verifica la autenticación del usuario. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Métodos privados}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_abd9bc40195d1d959a10865b1d95eb9d9}{increment\+Fungi\+Views}} (\$fungi\+Id)
\begin{DoxyCompactList}\small\item\em Incrementa el contador de vistas de un hongo. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Atributos privados}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_acb7364bad435a1fc74f97350f844e5c1}{\$db}}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a02dec1fb57b6f4d58d05a811f0b3837a}{\$pdo}}
\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
Controlador para manejar solicitudes GET a la API. 

Esta clase proporciona métodos para procesar diferentes tipos de solicitudes GET a la API, como listar hongos, obtener detalles y estadísticas. 

Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00016}{16}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.



\doxysubsection{Documentación de constructores y destructores}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a9702ba600b72f8257ba5cc6bbb14405a}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a9702ba600b72f8257ba5cc6bbb14405a} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::\+\_\+\+\_\+construct (\begin{DoxyParamCaption}\item[{}]{\$pdo,  }\item[{}]{\$db }\end{DoxyParamCaption})}



Constructor del controlador. 


\begin{DoxyParams}[1]{Parámetros}
\textbackslash{}\+PDO & {\em \$pdo} & Conexión PDO a la base de datos \\
\hline
\textbackslash{}\+App\textbackslash{}\+Controllers\textbackslash{}\+Database\+Controller & {\em \$db} & Modelo de base de datos \\
\hline
\end{DoxyParams}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00027}{27}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00028\ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \$this-\/>pdo\ =\ \mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a02dec1fb57b6f4d58d05a811f0b3837a}{\$pdo}};}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \$this-\/>db\ =\ \mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_acb7364bad435a1fc74f97350f844e5c1}{\$db}};}
\DoxyCodeLine{00031\ \ \ \ \ \}}

\end{DoxyCode}


Hace referencia a \mbox{\hyperlink{ApiGetController_8php_source_l00019}{App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\textbackslash{}\$db}} y \mbox{\hyperlink{ApiGetController_8php_source_l00018}{App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\textbackslash{}\$pdo}}.



\doxysubsection{Documentación de funciones miembro}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_abb00071b44d7a1b559b50eb9690bdc2f}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_abb00071b44d7a1b559b50eb9690bdc2f} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!getAllFungi@{getAllFungi}}
\index{getAllFungi@{getAllFungi}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{getAllFungi()}{getAllFungi()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::get\+All\+Fungi (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Obtiene la lista completa de hongos. 

\begin{DoxyReturn}{Devuelve}
array Lista de hongos 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00057}{57}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00058\ \ \ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>query(\textcolor{stringliteral}{"{}SELECT\ *\ FROM\ fungi"{}});}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'data'}\ =>\ \$stmt-\/>fetchAll(\(\backslash\)PDO::FETCH\_ASSOC)}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00064\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a32934272cdad1004a05df79c586d7567}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a32934272cdad1004a05df79c586d7567} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!getFungiByEdibility@{getFungiByEdibility}}
\index{getFungiByEdibility@{getFungiByEdibility}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{getFungiByEdibility()}{getFungiByEdibility()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::get\+Fungi\+By\+Edibility (\begin{DoxyParamCaption}\item[{}]{\$edibility }\end{DoxyParamCaption})}



Obtiene hongos filtrados por comestibilidad. 


\begin{DoxyParams}[1]{Parámetros}
string & {\em \$edibility} & Tipo de comestibilidad \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
array Lista de hongos filtrados 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00294}{294}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00295\ \ \ \ \ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \$sql\ =\ \textcolor{stringliteral}{"{}SELECT\ f.*,\ GROUP\_CONCAT(DISTINCT\ CONCAT(ic.path,\ i.filename))\ as\ image\_urls\ }}
\DoxyCodeLine{00297\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FROM\ fungi\ f\ }}
\DoxyCodeLine{00298\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ fungi\_images\ fi\ ON\ f.id\ =\ fi.fungi\_id\ }}
\DoxyCodeLine{00299\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ images\ i\ ON\ fi.image\_id\ =\ i.id\ }}
\DoxyCodeLine{00300\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ image\_config\ ic\ ON\ i.config\_key\ =\ ic.config\_key}}
\DoxyCodeLine{00301\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WHERE\ f.edibility\ LIKE\ :edibility}}
\DoxyCodeLine{00302\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GROUP\ BY\ f.id}}
\DoxyCodeLine{00303\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LIMIT\ 50"{}};}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\$sql);}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \$stmt-\/>execute([\textcolor{stringliteral}{':edibility'}\ =>\ \textcolor{charliteral}{'\%'}\ .\ \$edibility\ .\ \textcolor{charliteral}{'\%'}]);}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'data'}\ =>\ \$stmt-\/>fetchAll(\(\backslash\)PDO::FETCH\_ASSOC)}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00312\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a0a410891959f2552b48e01cb6b15f544}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a0a410891959f2552b48e01cb6b15f544} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!getFungiPaginated@{getFungiPaginated}}
\index{getFungiPaginated@{getFungiPaginated}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{getFungiPaginated()}{getFungiPaginated()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::get\+Fungi\+Paginated (\begin{DoxyParamCaption}\item[{}]{\$page,  }\item[{}]{\$limit }\end{DoxyParamCaption})}



Obtiene hongos con paginación. 


\begin{DoxyParams}[1]{Parámetros}
int & {\em \$page} & Número de página \\
\hline
int & {\em \$limit} & Límite de registros por página \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
array Resultados paginados 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00073}{73}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \$offset\ =\ (\$page\ -\/\ 1)\ *\ \$limit;}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Consulta\ para\ obtener\ los\ hongos\ con\ sus\ imágenes}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \$sql\ =\ \textcolor{stringliteral}{"{}SELECT\ f.*,\ GROUP\_CONCAT(DISTINCT\ CONCAT(ic.path,\ i.filename))\ as\ image\_urls\ }}
\DoxyCodeLine{00079\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FROM\ fungi\ f\ }}
\DoxyCodeLine{00080\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ fungi\_images\ fi\ ON\ f.id\ =\ fi.fungi\_id\ }}
\DoxyCodeLine{00081\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ images\ i\ ON\ fi.image\_id\ =\ i.id\ }}
\DoxyCodeLine{00082\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ image\_config\ ic\ ON\ i.config\_key\ =\ ic.config\_key}}
\DoxyCodeLine{00083\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GROUP\ BY\ f.id}}
\DoxyCodeLine{00084\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LIMIT\ :limit\ OFFSET\ :offset"{}};}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\$sql);}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \$stmt-\/>bindParam(\textcolor{stringliteral}{':limit'},\ \$limit,\ \(\backslash\)PDO::PARAM\_INT);}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \$stmt-\/>bindParam(\textcolor{stringliteral}{':offset'},\ \$offset,\ \(\backslash\)PDO::PARAM\_INT);}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \$stmt-\/>execute();}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Consulta\ para\ contar\ el\ total\ de\ hongos}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \$countStmt\ =\ \$this-\/>pdo-\/>query(\textcolor{stringliteral}{"{}SELECT\ COUNT(*)\ FROM\ fungi"{}});}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \$totalCount\ =\ \$countStmt-\/>fetchColumn();}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calcular\ la\ información\ de\ paginación}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \$totalPages\ =\ ceil(\$totalCount\ /\ \$limit);}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},\ }
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'data'}\ =>\ \$stmt-\/>fetchAll(\(\backslash\)PDO::FETCH\_ASSOC),}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'pagination'}\ =>\ [}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'current\_page'}\ =>\ \$page,}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'total\_pages'}\ =>\ \$totalPages,}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'records\_per\_page'}\ =>\ \$limit,}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'total\_records'}\ =>\ \$totalCount}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00108\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a67e731e7af27d93b388c233394b86269}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a67e731e7af27d93b388c233394b86269} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!getFungusById@{getFungusById}}
\index{getFungusById@{getFungusById}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{getFungusById()}{getFungusById()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::get\+Fungus\+By\+Id (\begin{DoxyParamCaption}\item[{}]{\$id,  }\item[{}]{\$user\+Id = {\ttfamily null} }\end{DoxyParamCaption})}



Obtiene detalles de un hongo específico. 


\begin{DoxyParams}[1]{Parámetros}
int & {\em \$id} & ID del hongo \\
\hline
int | null & {\em \$user\+Id} & ID del usuario actual (para likes) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
array Detalles del hongo 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00117}{117}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118\ \ \ \ \ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Consulta\ para\ obtener\ datos\ básicos\ del\ hongo}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \$sql\ =\ \textcolor{stringliteral}{"{}SELECT\ f.*,\ }}
\DoxyCodeLine{00121\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GROUP\_CONCAT(DISTINCT\ CONCAT(ic.path,\ i.filename))\ as\ image\_urls\ }}
\DoxyCodeLine{00122\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FROM\ fungi\ f\ }}
\DoxyCodeLine{00123\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ fungi\_images\ fi\ ON\ f.id\ =\ fi.fungi\_id\ }}
\DoxyCodeLine{00124\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ images\ i\ ON\ fi.image\_id\ =\ i.id\ }}
\DoxyCodeLine{00125\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ image\_config\ ic\ ON\ i.config\_key\ =\ ic.config\_key}}
\DoxyCodeLine{00126\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WHERE\ f.id\ =\ :id}}
\DoxyCodeLine{00127\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GROUP\ BY\ f.id"{}};}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\$sql);}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \$stmt-\/>bindParam(\textcolor{stringliteral}{':id'},\ \$id,\ \(\backslash\)PDO::PARAM\_INT);}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \$stmt-\/>execute();}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \$fungus\ =\ \$stmt-\/>fetch(\(\backslash\)PDO::FETCH\_ASSOC);}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$fungus)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ http\_response\_code(404);}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{false},\ }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'error'}\ =>\ ErrorMessages::DB\_RECORD\_NOT\_FOUND}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Obtener\ estadísticas:\ vistas\ y\ likes}}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \$statsSql\ =\ \textcolor{stringliteral}{"{}SELECT\ views,\ likes\ FROM\ fungi\_popularity\ WHERE\ fungi\_id\ =\ :id"{}};}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \$statsStmt\ =\ \$this-\/>pdo-\/>prepare(\$statsSql);}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \$statsStmt-\/>bindParam(\textcolor{stringliteral}{':id'},\ \$id,\ \(\backslash\)PDO::PARAM\_INT);}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \$statsStmt-\/>execute();}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \$stats\ =\ \$statsStmt-\/>fetch(\(\backslash\)PDO::FETCH\_ASSOC);}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$stats)\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \$fungus[\textcolor{stringliteral}{'views'}]\ =\ \$stats[\textcolor{stringliteral}{'views'}];}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \$fungus[\textcolor{stringliteral}{'likes'}]\ =\ \$stats[\textcolor{stringliteral}{'likes'}];}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \$fungus[\textcolor{stringliteral}{'views'}]\ =\ 0;}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \$fungus[\textcolor{stringliteral}{'likes'}]\ =\ 0;}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Si\ hay\ un\ usuario\ autenticado,\ verificar\ si\ le\ dio\ like}}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$userId)\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \$likeSql\ =\ \textcolor{stringliteral}{"{}SELECT\ 1\ FROM\ user\_likes\ WHERE\ user\_id\ =\ :userId\ AND\ fungi\_id\ =\ :fungiId"{}};}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \$likeStmt\ =\ \$this-\/>pdo-\/>prepare(\$likeSql);}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \$likeStmt-\/>bindParam(\textcolor{stringliteral}{':userId'},\ \$userId,\ \(\backslash\)PDO::PARAM\_INT);}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \$likeStmt-\/>bindParam(\textcolor{stringliteral}{':fungiId'},\ \$id,\ \(\backslash\)PDO::PARAM\_INT);}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \$likeStmt-\/>execute();}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \$fungus[\textcolor{stringliteral}{'is\_liked'}]\ =\ (bool)\ \$likeStmt-\/>fetchColumn();}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Incrementar\ contador\ de\ vistas}}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_abd9bc40195d1d959a10865b1d95eb9d9}{incrementFungiViews}}(\$id);}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'data'}\ =>\ \$fungus}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00176\ \ \ \ \ \}}

\end{DoxyCode}


Hace referencia a \mbox{\hyperlink{ApiGetController_8php_source_l00273}{App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\textbackslash{}increment\+Fungi\+Views()}}.

Gráfico de llamadas de esta función\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a67e731e7af27d93b388c233394b86269_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a7ca32a5d523b8859df919bfc0d3b3684}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a7ca32a5d523b8859df919bfc0d3b3684} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!getRandomFungus@{getRandomFungus}}
\index{getRandomFungus@{getRandomFungus}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{getRandomFungus()}{getRandomFungus()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::get\+Random\+Fungus (\begin{DoxyParamCaption}\item[{}]{\$user\+Id = {\ttfamily null} }\end{DoxyParamCaption})}



Obtiene un hongo aleatorio. 

\begin{DoxyReturn}{Devuelve}
array Datos del hongo aleatorio 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00231}{231}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00232\ \ \ \ \ \{}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \$sql\ =\ \textcolor{stringliteral}{"{}SELECT\ f.*,\ GROUP\_CONCAT(DISTINCT\ CONCAT(ic.path,\ i.filename))\ as\ image\_urls\ }}
\DoxyCodeLine{00234\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FROM\ fungi\ f\ }}
\DoxyCodeLine{00235\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ fungi\_images\ fi\ ON\ f.id\ =\ fi.fungi\_id\ }}
\DoxyCodeLine{00236\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ images\ i\ ON\ fi.image\_id\ =\ i.id\ }}
\DoxyCodeLine{00237\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ image\_config\ ic\ ON\ i.config\_key\ =\ ic.config\_key}}
\DoxyCodeLine{00238\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GROUP\ BY\ f.id}}
\DoxyCodeLine{00239\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ORDER\ BY\ RAND()\ }}
\DoxyCodeLine{00240\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LIMIT\ 1"{}};}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>query(\$sql);}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \$fungus\ =\ \$stmt-\/>fetch(\(\backslash\)PDO::FETCH\_ASSOC);}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$fungus)\ \{}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{false},\ }
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'error'}\ =>\ \textcolor{stringliteral}{'No\ hay\ hongos\ disponibles'}}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Incrementar\ contador\ de\ vistas}}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{classApp_1_1Controllers_1_1Api_1_1ApiGetController_abd9bc40195d1d959a10865b1d95eb9d9}{incrementFungiViews}}(\$fungus[\textcolor{stringliteral}{'id'}]);}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Si\ hay\ un\ usuario\ autenticado,\ verificar\ si\ le\ dio\ like}}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$userId)\ \{}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{routes_8php_a0bbc1d7715d0f934d799d5556a9216bf}{\$fungiController}}\ =\ new\ \(\backslash\)App\(\backslash\)Controllers\(\backslash\)FungiController(\$this-\/>db);}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \$fungus\ =\ \mbox{\hyperlink{routes_8php_a0bbc1d7715d0f934d799d5556a9216bf}{\$fungiController}}-\/>getFungusWithLikeStatus(\$fungus,\ \$userId);}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'data'}\ =>\ \$fungus}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00265\ \ \ \ \ \}}

\end{DoxyCode}


Hace referencia a \mbox{\hyperlink{routes_8php_source_l00097}{\$fungi\+Controller}} y \mbox{\hyperlink{ApiGetController_8php_source_l00273}{App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\textbackslash{}increment\+Fungi\+Views()}}.

Gráfico de llamadas de esta función\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a7ca32a5d523b8859df919bfc0d3b3684_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a33518bdaefac3b63c1385daee9d617c1}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a33518bdaefac3b63c1385daee9d617c1} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!getUserFavorites@{getUserFavorites}}
\index{getUserFavorites@{getUserFavorites}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{getUserFavorites()}{getUserFavorites()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::get\+User\+Favorites (\begin{DoxyParamCaption}\item[{}]{\$user\+Id }\end{DoxyParamCaption})}



Obtiene los hongos favoritos de un usuario. 


\begin{DoxyParams}[1]{Parámetros}
int & {\em \$user\+Id} & ID del usuario \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
array Lista de hongos favoritos 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00320}{320}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00321\ \ \ \ \ \{}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \$sql\ =\ \textcolor{stringliteral}{"{}SELECT\ f.*,\ GROUP\_CONCAT(DISTINCT\ CONCAT(ic.path,\ i.filename))\ as\ image\_urls\ }}
\DoxyCodeLine{00323\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FROM\ fungi\ f\ }}
\DoxyCodeLine{00324\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ JOIN\ user\_favorites\ uf\ ON\ f.id\ =\ uf.fungi\_id\ }}
\DoxyCodeLine{00325\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ fungi\_images\ fi\ ON\ f.id\ =\ fi.fungi\_id\ }}
\DoxyCodeLine{00326\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ images\ i\ ON\ fi.image\_id\ =\ i.id\ }}
\DoxyCodeLine{00327\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ image\_config\ ic\ ON\ i.config\_key\ =\ ic.config\_key}}
\DoxyCodeLine{00328\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WHERE\ uf.user\_id\ =\ :userId\ }}
\DoxyCodeLine{00329\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GROUP\ BY\ f.id"{}};}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\$sql);}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \$stmt-\/>execute([\textcolor{stringliteral}{':userId'}\ =>\ \$userId]);}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'data'}\ =>\ \$stmt-\/>fetchAll(\(\backslash\)PDO::FETCH\_ASSOC)}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00338\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_aaa2530e28e9af86618de9b0af4fc29e1}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_aaa2530e28e9af86618de9b0af4fc29e1} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!getUsers@{getUsers}}
\index{getUsers@{getUsers}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{getUsers()}{getUsers()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::get\+Users (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Obtiene la lista de usuarios (solo administradores) 

\begin{DoxyReturn}{Devuelve}
array Lista de usuarios 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00367}{367}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00368\ \ \ \ \ \{}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Consulta\ básica\ para\ obtener\ usuarios\ con\ información\ limitada\ por\ seguridad}}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \$sql\ =\ \textcolor{stringliteral}{"{}SELECT\ id,\ username,\ email,\ role,\ created\_at,\ last\_login\ }}
\DoxyCodeLine{00371\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FROM\ users\ }}
\DoxyCodeLine{00372\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ORDER\ BY\ id"{}};}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\$sql);}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt-\/>execute();}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'data'}\ =>\ \$stmt-\/>fetchAll(\(\backslash\)PDO::FETCH\_ASSOC)}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\(\backslash\)PDOException\ \$e)\ \{}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ http\_response\_code(500);}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{false},}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'error'}\ =>\ ErrorMessages::format(ErrorMessages::DB\_QUERY\_ERROR,\ \$e-\/>getMessage())}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00389\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_abd9bc40195d1d959a10865b1d95eb9d9}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_abd9bc40195d1d959a10865b1d95eb9d9} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!incrementFungiViews@{incrementFungiViews}}
\index{incrementFungiViews@{incrementFungiViews}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{incrementFungiViews()}{incrementFungiViews()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::increment\+Fungi\+Views (\begin{DoxyParamCaption}\item[{}]{\$fungi\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Incrementa el contador de vistas de un hongo. 


\begin{DoxyParams}[1]{Parámetros}
int & {\em \$fungi\+Id} & ID del hongo \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bool Resultado de la operación 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00273}{273}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00274\ \ \ \ \ \{}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \$sql\ =\ \textcolor{stringliteral}{"{}INSERT\ INTO\ fungi\_popularity\ (fungi\_id,\ views,\ likes)\ }}
\DoxyCodeLine{00277\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ VALUES\ (?,\ 1,\ 0)\ }}
\DoxyCodeLine{00278\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ON\ DUPLICATE\ KEY\ UPDATE\ views\ =\ views\ +\ 1"{}};}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\$sql);}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$stmt-\/>execute([\$fungiId]);}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\(\backslash\)PDOException\ \$e)\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ error\_log(\textcolor{stringliteral}{"{}Error\ incrementando\ vistas:\ "{}}\ .\ \$e-\/>getMessage());}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00286\ \ \ \ \ \}}

\end{DoxyCode}


Referenciado por \mbox{\hyperlink{ApiGetController_8php_source_l00117}{App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\textbackslash{}get\+Fungus\+By\+Id()}} y \mbox{\hyperlink{ApiGetController_8php_source_l00231}{App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\textbackslash{}get\+Random\+Fungus()}}.

Gráfico de llamadas a esta función\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Controllers_1_1Api_1_1ApiGetController_abd9bc40195d1d959a10865b1d95eb9d9_icgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_ae9257dad15b8ca14f6183c0610d852a9}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_ae9257dad15b8ca14f6183c0610d852a9} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!searchFungi@{searchFungi}}
\index{searchFungi@{searchFungi}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{searchFungi()}{searchFungi()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::search\+Fungi (\begin{DoxyParamCaption}\item[{}]{\$param,  }\item[{}]{\$value }\end{DoxyParamCaption})}



Busca hongos por parámetro y valor. 


\begin{DoxyParams}[1]{Parámetros}
string & {\em \$param} & Parámetro de búsqueda \\
\hline
string & {\em \$value} & Valor a buscar \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
array Resultados de la búsqueda 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00185}{185}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00186\ \ \ \ \ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \$allowedParams\ =\ [\textcolor{stringliteral}{'name'},\ \textcolor{stringliteral}{'edibility'},\ \textcolor{stringliteral}{'habitat'},\ \textcolor{stringliteral}{'common\_name'}];}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!in\_array(\$param,\ \$allowedParams))\ \{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ http\_response\_code(400);}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{false},}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'error'}\ =>\ \textcolor{stringliteral}{'Parámetro\ de\ búsqueda\ no\ válido.\ Parámetros\ permitidos:\ '}\ .\ implode(\textcolor{stringliteral}{',\ '},\ \$allowedParams)}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Construir\ la\ consulta\ de\ búsqueda}}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \$sql\ =\ \textcolor{stringliteral}{"{}SELECT\ f.*,\ GROUP\_CONCAT(DISTINCT\ CONCAT(ic.path,\ i.filename))\ as\ image\_urls\ }}
\DoxyCodeLine{00200\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FROM\ fungi\ f\ }}
\DoxyCodeLine{00201\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ fungi\_images\ fi\ ON\ f.id\ =\ fi.fungi\_id\ }}
\DoxyCodeLine{00202\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ images\ i\ ON\ fi.image\_id\ =\ i.id\ }}
\DoxyCodeLine{00203\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ image\_config\ ic\ ON\ i.config\_key\ =\ ic.config\_key}}
\DoxyCodeLine{00204\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WHERE\ f.\{\$param\}\ LIKE\ :value\ }}
\DoxyCodeLine{00205\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GROUP\ BY\ f.id}}
\DoxyCodeLine{00206\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LIMIT\ 50"{}};}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\$sql);}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt-\/>execute([\textcolor{stringliteral}{':value'}\ =>\ \textcolor{charliteral}{'\%'}\ .\ \$value\ .\ \textcolor{charliteral}{'\%'}]);}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \$results\ =\ \$stmt-\/>fetchAll(\(\backslash\)PDO::FETCH\_ASSOC);}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'count'}\ =>\ count(\$results),}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'data'}\ =>\ \$results}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\(\backslash\)PDOException\ \$e)\ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ http\_response\_code(500);}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{false},}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'error'}\ =>\ \textcolor{stringliteral}{'Error\ en\ la\ búsqueda:\ '}\ .\ \$e-\/>getMessage()}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00224\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_ad38efdd58e10c822fccb780ac688c4ea}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_ad38efdd58e10c822fccb780ac688c4ea} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!verifyAuth@{verifyAuth}}
\index{verifyAuth@{verifyAuth}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{verifyAuth()}{verifyAuth()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::verify\+Auth (\begin{DoxyParamCaption}\item[{}]{\$user }\end{DoxyParamCaption})}



Verifica autenticación del usuario actual. 


\begin{DoxyParams}[1]{Parámetros}
array & {\em \$user} & Datos del usuario \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
array Estado de autenticación 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00346}{346}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00347\ \ \ \ \ \{}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$user)\ \{}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'authenticated'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'user'}\ =>\ \$user}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'authenticated'}\ =>\ false}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00360\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_ad271f1b46463a2ef68b3ff1d15df9b31}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_ad271f1b46463a2ef68b3ff1d15df9b31} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!verifyAuthToken@{verifyAuthToken}}
\index{verifyAuthToken@{verifyAuthToken}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{verifyAuthToken()}{verifyAuthToken()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::verify\+Auth\+Token (\begin{DoxyParamCaption}\item[{}]{\$token,  }\item[{}]{\$verify\+Callback }\end{DoxyParamCaption})}



Verifica la autenticación del usuario. 


\begin{DoxyParams}[1]{Parámetros}
string & {\em \$token} & Token JWT \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
array\texorpdfstring{$\vert$}{|}bool Información del usuario o false 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00039}{39}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00040\ \ \ \ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \$payload\ =\ \$verifyCallback(\$token);}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$payload)\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'id'}\ =>\ \$payload[\textcolor{stringliteral}{'sub'}],}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'username'}\ =>\ \$payload[\textcolor{stringliteral}{'username'}],}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'role'}\ =>\ \$payload[\textcolor{stringliteral}{'role'}]}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00050\ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Documentación de datos miembro}
\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_acb7364bad435a1fc74f97350f844e5c1}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_acb7364bad435a1fc74f97350f844e5c1} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!\$db@{\$db}}
\index{\$db@{\$db}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{\$db}{\$db}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::\$db\hspace{0.3cm}{\ttfamily [private]}}



Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00019}{19}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.



Referenciado por \mbox{\hyperlink{ApiGetController_8php_source_l00027}{App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\textbackslash{}\+\_\+\+\_\+construct()}}.

\Hypertarget{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a02dec1fb57b6f4d58d05a811f0b3837a}\label{classApp_1_1Controllers_1_1Api_1_1ApiGetController_a02dec1fb57b6f4d58d05a811f0b3837a} 
\index{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}!\$pdo@{\$pdo}}
\index{\$pdo@{\$pdo}!App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController@{App\textbackslash{}Controllers\textbackslash{}Api\textbackslash{}ApiGetController}}
\doxysubsubsection{\texorpdfstring{\$pdo}{\$pdo}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\+::\$pdo\hspace{0.3cm}{\ttfamily [private]}}



Definición en la línea \mbox{\hyperlink{ApiGetController_8php_source_l00018}{18}} del archivo \mbox{\hyperlink{ApiGetController_8php_source}{Api\+Get\+Controller.\+php}}.



Referenciado por \mbox{\hyperlink{ApiGetController_8php_source_l00027}{App\textbackslash{}\+Controllers\textbackslash{}\+Api\textbackslash{}\+Api\+Get\+Controller\textbackslash{}\+\_\+\+\_\+construct()}}.



La documentación de esta clase está generada del siguiente archivo\+:\begin{DoxyCompactItemize}
\item 
src/controllers/\+Api/\mbox{\hyperlink{ApiGetController_8php}{Api\+Get\+Controller.\+php}}\end{DoxyCompactItemize}
