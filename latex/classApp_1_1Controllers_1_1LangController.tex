\doxysection{Referencia de la clase App\textbackslash{}Controllers\textbackslash{}Lang\+Controller}
\hypertarget{classApp_1_1Controllers_1_1LangController}{}\label{classApp_1_1Controllers_1_1LangController}\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}


Controlador para la gestión de idiomas de la aplicación.  




Diagrama de colaboración de App\textbackslash{}Controllers\textbackslash{}Lang\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{classApp_1_1Controllers_1_1LangController__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Métodos públicos}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_ad665455fab964cc78b301960f255548c}{\+\_\+\+\_\+construct}} ()
\begin{DoxyCompactList}\small\item\em Constructor del controlador de idioma. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_a13fbc690481f06279c66dd4e168bbc14}{change\+Language}} ()
\begin{DoxyCompactList}\small\item\em Cambia el idioma de la aplicación. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_a6f8a96985210b857478f7abb5a1608fd}{configure\+Locale}} (\$lang)
\begin{DoxyCompactList}\small\item\em Configura el entorno local (gettext) para el idioma seleccionado. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_a4d95141176e66213b15ebd6cd6218114}{get\+Supported\+Languages}} ()
\begin{DoxyCompactList}\small\item\em Obtiene la lista de idiomas soportados. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_a9de49f3e9288ef20cd4c0bd0a7f92b79}{gettext}} (\$text, \$domain=\textquotesingle{}messages\textquotesingle{})
\begin{DoxyCompactList}\small\item\em Obtiene un texto traducido de un dominio específico. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_af5571544f9e3d28aa142583ede742466}{initialize\+Language}} ()
\begin{DoxyCompactList}\small\item\em Inicializa el idioma de la aplicación. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_ab6eaada711800b3e02fde27f12d51220}{is\+Language\+Supported}} (\$lang)
\begin{DoxyCompactList}\small\item\em Verifica si un idioma está soportado. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_adaa8e6a1db373704ed4513c6f78b2006}{load\+Text\+Domain}} (\$domain)
\begin{DoxyCompactList}\small\item\em Carga un dominio de texto adicional para gettext Verificar si el archivo de traducción existe NO cambiar el dominio activo, solo registrarlo Usar dgettext() para obtener traducciones de dominios específicos. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Atributos privados}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_af33d8e2ff148d9e5143728741053881e}{\$locale\+Dir}}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_ae3e7c1d50cfe6955ff67eb9652fd4d5f}{\$locale\+Map}}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_a37f6530bdcf1292d8033d7c181b871fe}{\$supported\+Languages}} = \mbox{[}\textquotesingle{}es\textquotesingle{}, \textquotesingle{}en\textquotesingle{}, \textquotesingle{}ca\textquotesingle{}\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
Controlador para la gestión de idiomas de la aplicación. 

Esta clase maneja todos los aspectos relacionados con la localización e internacionalización, incluyendo la detección de idioma, configuración de locales y carga de dominios de traducción. 

Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00012}{12}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.



\doxysubsection{Documentación de constructores y destructores}
\Hypertarget{classApp_1_1Controllers_1_1LangController_ad665455fab964cc78b301960f255548c}\label{classApp_1_1Controllers_1_1LangController_ad665455fab964cc78b301960f255548c} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::\+\_\+\+\_\+construct (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Constructor del controlador de idioma. 

Inicializa el directorio de traducciones 

Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00041}{41}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ \ \ \ \ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \$this-\/>localeDir\ =\ dirname(\_\_DIR\_\_,\ 2)\ .\ \textcolor{stringliteral}{'/locales'};}
\DoxyCodeLine{00044\ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Documentación de funciones miembro}
\Hypertarget{classApp_1_1Controllers_1_1LangController_a13fbc690481f06279c66dd4e168bbc14}\label{classApp_1_1Controllers_1_1LangController_a13fbc690481f06279c66dd4e168bbc14} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!changeLanguage@{changeLanguage}}
\index{changeLanguage@{changeLanguage}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{changeLanguage()}{changeLanguage()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::change\+Language (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Cambia el idioma de la aplicación. 

Guarda la preferencia de idioma en sesión y cookie y maneja tanto peticiones AJAX como redirecciones normales. Obtiene el idioma seleccionado del POST, lo valida contra los soportados, guarda en sesión y cookie por 30 días. Maneja respuestas diferentes para peticiones AJAX (JSON) y normales (redirección).

\begin{DoxyReturn}{Devuelve}
array\texorpdfstring{$\vert$}{|}void Respuesta JSON para AJAX o redirección para peticiones normales 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00175}{175}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00176\ \ \ \ \ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \$lang\ =\ \$\_POST[\textcolor{stringliteral}{'lang'}]\ ??\ \textcolor{stringliteral}{'es'};}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_ab6eaada711800b3e02fde27f12d51220}{isLanguageSupported}}(\$lang))\ \{}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \$\_SESSION[\textcolor{stringliteral}{'idioma'}]\ =\ \$lang;}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ setcookie(\textcolor{stringliteral}{'idioma'},\ \$lang,\ time()\ +\ (86400\ *\ 30),\ \textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \$isAjax\ =\ !empty(\$\_SERVER[\textcolor{stringliteral}{'HTTP\_X\_REQUESTED\_WITH'}])\ \&\&\ }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ strtolower(\$\_SERVER[\textcolor{stringliteral}{'HTTP\_X\_REQUESTED\_WITH'}])\ ==\ \textcolor{stringliteral}{'xmlhttprequest'};}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$isAjax)\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ header(\textcolor{stringliteral}{'Content-\/Type:\ application/json'});}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ echo\ json\_encode([\textcolor{stringliteral}{'success'}\ =>\ \textcolor{keyword}{true},\ \textcolor{stringliteral}{'language'}\ =>\ \$lang]);}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ exit;}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \$redirect\ =\ \$\_POST[\textcolor{stringliteral}{'redirect'}]\ ??\ \textcolor{charliteral}{'/'};}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ header(\textcolor{stringliteral}{'Location:\ '}\ .\ \$redirect);}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ exit;}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00195\ \ \ \ \ \}}

\end{DoxyCode}


Hace referencia a \mbox{\hyperlink{LangController_8php_source_l00063}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}is\+Language\+Supported()}}.

Gráfico de llamadas de esta función\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Controllers_1_1LangController_a13fbc690481f06279c66dd4e168bbc14_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Controllers_1_1LangController_a6f8a96985210b857478f7abb5a1608fd}\label{classApp_1_1Controllers_1_1LangController_a6f8a96985210b857478f7abb5a1608fd} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!configureLocale@{configureLocale}}
\index{configureLocale@{configureLocale}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{configureLocale()}{configureLocale()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::configure\+Locale (\begin{DoxyParamCaption}\item[{}]{\$lang }\end{DoxyParamCaption})}



Configura el entorno local (gettext) para el idioma seleccionado. 


\begin{DoxyParams}[1]{Parámetros}
string & {\em \$lang} & Código del idioma a configurar\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
void
\end{DoxyReturn}

\begin{DoxyItemize}
\item Si el idioma no está soportado, usa español por defecto
\item Obtiene el locale del sistema operativo correspondiente
\item Configura las variables de entorno y locale para gettext
\item Configura el dominio de mensajes principal
\item Carga dominios adicionales predeterminados (navbar, about, home, profile) 
\end{DoxyItemize}

Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00105}{105}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00106\ \ \ \ \ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$this-\/>\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_ab6eaada711800b3e02fde27f12d51220}{isLanguageSupported}}(\$lang))\ \$lang\ =\ \textcolor{stringliteral}{'es'};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \$locale\ =\ (\$this-\/>localeMap[\$lang]\ ??\ \textcolor{stringliteral}{'es\_ES'})\ .\ \textcolor{stringliteral}{'.UTF-\/8'};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ putenv(\textcolor{stringliteral}{"{}LANG=\$locale"{}});}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ putenv(\textcolor{stringliteral}{"{}LANGUAGE=\$locale"{}});}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ putenv(\textcolor{stringliteral}{"{}LC\_ALL=\$locale"{}});}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ setlocale(LC\_ALL,\ \$locale);}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ bindtextdomain(\textcolor{stringliteral}{"{}messages"{}},\ \$this-\/>localeDir);}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ bind\_textdomain\_codeset(\textcolor{stringliteral}{"{}messages"{}},\ \textcolor{stringliteral}{"{}UTF-\/8"{}});}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ textdomain(\textcolor{stringliteral}{"{}messages"{}});}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \$default\_domains\ =\ [\textcolor{stringliteral}{'navbar'},\ \textcolor{stringliteral}{'about'},\ \textcolor{stringliteral}{'home'},\ \textcolor{stringliteral}{'profile'},\ \textcolor{stringliteral}{'stats'},\ \textcolor{stringliteral}{'fungi'},\ \textcolor{stringliteral}{'api\_docs'},\ \textcolor{stringliteral}{'admin'}];}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$default\_domains\ as\ \$domain)\ \$this-\/>\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_adaa8e6a1db373704ed4513c6f78b2006}{loadTextDomain}}(\$domain);}
\DoxyCodeLine{00121\ \ \ \ \ \}}

\end{DoxyCode}


Hace referencia a \mbox{\hyperlink{LangController_8php_source_l00063}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}is\+Language\+Supported()}} y \mbox{\hyperlink{LangController_8php_source_l00132}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}load\+Text\+Domain()}}.



Referenciado por \mbox{\hyperlink{LangController_8php_source_l00080}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}initialize\+Language()}}.

Gráfico de llamadas de esta función\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Controllers_1_1LangController_a6f8a96985210b857478f7abb5a1608fd_cgraph}
\end{center}
\end{figure}
Gráfico de llamadas a esta función\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Controllers_1_1LangController_a6f8a96985210b857478f7abb5a1608fd_icgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Controllers_1_1LangController_a4d95141176e66213b15ebd6cd6218114}\label{classApp_1_1Controllers_1_1LangController_a4d95141176e66213b15ebd6cd6218114} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!getSupportedLanguages@{getSupportedLanguages}}
\index{getSupportedLanguages@{getSupportedLanguages}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{getSupportedLanguages()}{getSupportedLanguages()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::get\+Supported\+Languages (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Obtiene la lista de idiomas soportados. 

\begin{DoxyReturn}{Devuelve}
array Lista de idiomas soportados 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00051}{51}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00052\ \ \ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_a37f6530bdcf1292d8033d7c181b871fe}{\$this-\/>supportedLanguages}};}
\DoxyCodeLine{00054\ \ \ \ \ \}}

\end{DoxyCode}


Hace referencia a \mbox{\hyperlink{LangController_8php_source_l00018}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}\$supported\+Languages}}.

\Hypertarget{classApp_1_1Controllers_1_1LangController_a9de49f3e9288ef20cd4c0bd0a7f92b79}\label{classApp_1_1Controllers_1_1LangController_a9de49f3e9288ef20cd4c0bd0a7f92b79} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!gettext@{gettext}}
\index{gettext@{gettext}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{gettext()}{gettext()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::gettext (\begin{DoxyParamCaption}\item[{}]{\$text,  }\item[{}]{\$domain = {\ttfamily \textquotesingle{}messages\textquotesingle{}} }\end{DoxyParamCaption})}



Obtiene un texto traducido de un dominio específico. 


\begin{DoxyParams}[1]{Parámetros}
string & {\em \$text} & Texto a traducir \\
\hline
string & {\em \$domain} & Dominio de texto (predeterminado=\textquotesingle{}messages\textquotesingle{})\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
string Texto traducido 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00155}{155}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00156\ \ \ \ \ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \$traduccion\ =\ dgettext(\$domain,\ \$text);}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$traduccion\ ===\ \$text\ \&\&\ \$domain\ !==\ \textcolor{stringliteral}{'messages'})\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ error\_log(\textcolor{stringliteral}{"{}Error\ de\ traducción:\ '\$text'\ no\ encontrado\ en\ dominio\ '\$domain'"{}});}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \$traduccion\ =\ dgettext(\textcolor{stringliteral}{'messages'},\ \$text);}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$traduccion;}
\DoxyCodeLine{00163\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1LangController_af5571544f9e3d28aa142583ede742466}\label{classApp_1_1Controllers_1_1LangController_af5571544f9e3d28aa142583ede742466} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!initializeLanguage@{initializeLanguage}}
\index{initializeLanguage@{initializeLanguage}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{initializeLanguage()}{initializeLanguage()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::initialize\+Language (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Inicializa el idioma de la aplicación. 

Detecta y configura el idioma actual según prioridad\+:
\begin{DoxyEnumerate}
\item Parámetro GET \textquotesingle{}lang\textquotesingle{}
\item Sesión
\item Cookie
\item Navegador
\item Idioma por defecto (es)
\end{DoxyEnumerate}

\begin{DoxyReturn}{Devuelve}
string Código del idioma seleccionado 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00080}{80}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00081\ \ \ \ \ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$\_GET[\textcolor{stringliteral}{'lang'}])\ \&\&\ \$this-\/>\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_ab6eaada711800b3e02fde27f12d51220}{isLanguageSupported}}(\$\_GET[\textcolor{stringliteral}{'lang'}]))\ \$\_SESSION[\textcolor{stringliteral}{'idioma'}]\ =\ \$\_GET[\textcolor{stringliteral}{'lang'}];}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \$idioma\ =\ \$\_SESSION[\textcolor{stringliteral}{'idioma'}]\ ??\ \$\_COOKIE[\textcolor{stringliteral}{'idioma'}]\ ??\ substr(\$\_SERVER[\textcolor{stringliteral}{'HTTP\_ACCEPT\_LANGUAGE'}]\ ??\ \textcolor{stringliteral}{'es'},\ 0,\ 2);}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$this-\/>\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_ab6eaada711800b3e02fde27f12d51220}{isLanguageSupported}}(\$idioma))\ \$idioma\ =\ \textcolor{stringliteral}{'es'};}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \$\_SESSION[\textcolor{stringliteral}{'idioma'}]\ =\ \$idioma;}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{classApp_1_1Controllers_1_1LangController_a6f8a96985210b857478f7abb5a1608fd}{configureLocale}}(\$idioma);}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$idioma;}
\DoxyCodeLine{00089\ \ \ \ \ \}}

\end{DoxyCode}


Hace referencia a \mbox{\hyperlink{LangController_8php_source_l00105}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}configure\+Locale()}} y \mbox{\hyperlink{LangController_8php_source_l00063}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}is\+Language\+Supported()}}.

Gráfico de llamadas de esta función\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Controllers_1_1LangController_af5571544f9e3d28aa142583ede742466_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Controllers_1_1LangController_ab6eaada711800b3e02fde27f12d51220}\label{classApp_1_1Controllers_1_1LangController_ab6eaada711800b3e02fde27f12d51220} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!isLanguageSupported@{isLanguageSupported}}
\index{isLanguageSupported@{isLanguageSupported}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{isLanguageSupported()}{isLanguageSupported()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::is\+Language\+Supported (\begin{DoxyParamCaption}\item[{}]{\$lang }\end{DoxyParamCaption})}



Verifica si un idioma está soportado. 


\begin{DoxyParams}[1]{Parámetros}
string & {\em \$lang} & Código del idioma a verificar\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bool TRUE si el idioma está soportado, FALSE en caso contrario 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00063}{63}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064\ \ \ \ \ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ in\_array(\$lang,\ \$this-\/>supportedLanguages);}
\DoxyCodeLine{00066\ \ \ \ \ \}}

\end{DoxyCode}


Referenciado por \mbox{\hyperlink{LangController_8php_source_l00175}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}change\+Language()}}, \mbox{\hyperlink{LangController_8php_source_l00105}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}configure\+Locale()}} y \mbox{\hyperlink{LangController_8php_source_l00080}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}initialize\+Language()}}.

Gráfico de llamadas a esta función\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Controllers_1_1LangController_ab6eaada711800b3e02fde27f12d51220_icgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Controllers_1_1LangController_adaa8e6a1db373704ed4513c6f78b2006}\label{classApp_1_1Controllers_1_1LangController_adaa8e6a1db373704ed4513c6f78b2006} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!loadTextDomain@{loadTextDomain}}
\index{loadTextDomain@{loadTextDomain}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{loadTextDomain()}{loadTextDomain()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::load\+Text\+Domain (\begin{DoxyParamCaption}\item[{}]{\$domain }\end{DoxyParamCaption})}



Carga un dominio de texto adicional para gettext Verificar si el archivo de traducción existe NO cambiar el dominio activo, solo registrarlo Usar dgettext() para obtener traducciones de dominios específicos. 


\begin{DoxyParams}[1]{Parámetros}
string & {\em \$domain} & Nombre del dominio de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bool Éxito de la operación 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00132}{132}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00133\ \ \ \ \ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \$moFile\ =\ \$this-\/>localeDir\ .\ \textcolor{charliteral}{'/'}\ .\ \$this-\/>localeMap[\$\_SESSION[\textcolor{stringliteral}{'idioma'}]\ ??\ \textcolor{stringliteral}{'es'}]\ .\ \textcolor{stringliteral}{'/LC\_MESSAGES/'}\ .\ \$domain\ .\ \textcolor{stringliteral}{'.mo'};}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!file\_exists(\$moFile))\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ error\_log(\textcolor{stringliteral}{"{}No\ se\ encuentra\ el\ archivo\ de\ traducciones:\ \$moFile"{}});}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ bindtextdomain(\$domain,\ \$this-\/>localeDir);}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ bind\_textdomain\_codeset(\$domain,\ \textcolor{stringliteral}{"{}UTF-\/8"{}});}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00145\ \ \ \ \ \}}

\end{DoxyCode}


Referenciado por \mbox{\hyperlink{LangController_8php_source_l00105}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}configure\+Locale()}}.

Gráfico de llamadas a esta función\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Controllers_1_1LangController_adaa8e6a1db373704ed4513c6f78b2006_icgraph}
\end{center}
\end{figure}


\doxysubsection{Documentación de datos miembro}
\Hypertarget{classApp_1_1Controllers_1_1LangController_af33d8e2ff148d9e5143728741053881e}\label{classApp_1_1Controllers_1_1LangController_af33d8e2ff148d9e5143728741053881e} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!\$localeDir@{\$localeDir}}
\index{\$localeDir@{\$localeDir}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{\$localeDir}{\$localeDir}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::\$locale\+Dir\hspace{0.3cm}{\ttfamily [private]}}



Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00034}{34}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.

\Hypertarget{classApp_1_1Controllers_1_1LangController_ae3e7c1d50cfe6955ff67eb9652fd4d5f}\label{classApp_1_1Controllers_1_1LangController_ae3e7c1d50cfe6955ff67eb9652fd4d5f} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!\$localeMap@{\$localeMap}}
\index{\$localeMap@{\$localeMap}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{\$localeMap}{\$localeMap}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::\$locale\+Map\hspace{0.3cm}{\ttfamily [private]}}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{'es'}\ =>\ \textcolor{stringliteral}{'es\_ES'},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{'en'}\ =>\ \textcolor{stringliteral}{'en\_US'},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{'ca'}\ =>\ \textcolor{stringliteral}{'ca\_ES'}}
\DoxyCodeLine{\ \ \ \ ]}

\end{DoxyCode}


Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00024}{24}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.

\Hypertarget{classApp_1_1Controllers_1_1LangController_a37f6530bdcf1292d8033d7c181b871fe}\label{classApp_1_1Controllers_1_1LangController_a37f6530bdcf1292d8033d7c181b871fe} 
\index{App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}!\$supportedLanguages@{\$supportedLanguages}}
\index{\$supportedLanguages@{\$supportedLanguages}!App\textbackslash{}Controllers\textbackslash{}LangController@{App\textbackslash{}Controllers\textbackslash{}LangController}}
\doxysubsubsection{\texorpdfstring{\$supportedLanguages}{\$supportedLanguages}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\+::\$supported\+Languages = \mbox{[}\textquotesingle{}es\textquotesingle{}, \textquotesingle{}en\textquotesingle{}, \textquotesingle{}ca\textquotesingle{}\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}



Definición en la línea \mbox{\hyperlink{LangController_8php_source_l00018}{18}} del archivo \mbox{\hyperlink{LangController_8php_source}{Lang\+Controller.\+php}}.



Referenciado por \mbox{\hyperlink{LangController_8php_source_l00051}{App\textbackslash{}\+Controllers\textbackslash{}\+Lang\+Controller\textbackslash{}get\+Supported\+Languages()}}.



La documentación de esta clase está generada del siguiente archivo\+:\begin{DoxyCompactItemize}
\item 
src/controllers/\mbox{\hyperlink{LangController_8php}{Lang\+Controller.\+php}}\end{DoxyCompactItemize}
