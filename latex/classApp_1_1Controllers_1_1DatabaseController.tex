\doxysection{Referencia de la clase App\textbackslash{}Controllers\textbackslash{}Database\+Controller}
\hypertarget{classApp_1_1Controllers_1_1DatabaseController}{}\label{classApp_1_1Controllers_1_1DatabaseController}\index{App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}}


Diagrama de colaboración de App\textbackslash{}Controllers\textbackslash{}Database\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=215pt]{classApp_1_1Controllers_1_1DatabaseController__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Métodos públicos}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1DatabaseController_ad13ac3423d5797dd6f7757acb009b512}{\+\_\+\+\_\+construct}} ()
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1DatabaseController_ae55b2f1ea6758fbc4f82fe3eff4e28be}{create\+User}} (\$username, \$email, \$password\+\_\+hash)
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1DatabaseController_aa8e8c47fed6b4abaa5694f72f09b25c5}{get\+Fungis\+Paginated}} (\$limit, \$offset)
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1DatabaseController_aadf93af3dbc66496d286d96274403d05}{get\+Random\+Fungus}} ()
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1DatabaseController_aaeb06490c785957e1f89084399ca0496}{query}} (\$sql, \$params=\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}
\doxysubsubsection*{Atributos privados}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Controllers_1_1DatabaseController_a1358c9aa062b2a03b685d8a1e91fea72}{\$pdo}}
\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}


Definición en la línea \mbox{\hyperlink{DatabaseController_8php_source_l00010}{10}} del archivo \mbox{\hyperlink{DatabaseController_8php_source}{Database\+Controller.\+php}}.



\doxysubsection{Documentación de constructores y destructores}
\Hypertarget{classApp_1_1Controllers_1_1DatabaseController_ad13ac3423d5797dd6f7757acb009b512}\label{classApp_1_1Controllers_1_1DatabaseController_ad13ac3423d5797dd6f7757acb009b512} 
\index{App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}}
\doxysubsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Database\+Controller\+::\+\_\+\+\_\+construct (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{DatabaseController_8php_source_l00013}{13}} del archivo \mbox{\hyperlink{DatabaseController_8php_source}{Database\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \$host\ =\ defined(\textcolor{stringliteral}{'DB\_HOST'})\ ?\ DB\_HOST\ :\ getenv(\textcolor{stringliteral}{'DB\_HOST'});}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \$dbname\ =\ defined(\textcolor{stringliteral}{'DB\_NAME'})\ ?\ DB\_NAME\ :\ getenv(\textcolor{stringliteral}{'DB\_NAME'});}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \$user\ =\ defined(\textcolor{stringliteral}{'DB\_USER'})\ ?\ DB\_USER\ :\ getenv(\textcolor{stringliteral}{'DB\_USER'});}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \$pass\ =\ defined(\textcolor{stringliteral}{'DB\_PASS'})\ ?\ DB\_PASS\ :\ getenv(\textcolor{stringliteral}{'DB\_PASS'});}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>pdo\ =\ \textcolor{keyword}{new}\ PDO(\textcolor{stringliteral}{"{}mysql:host=\$host;dbname=\$dbname;charset=utf8"{}},\ \$user,\ \$pass);}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>pdo-\/>setAttribute(PDO::ATTR\_ERRMODE,\ PDO::ERRMODE\_EXCEPTION);}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (PDOException\ \$e)\ \{}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \ \ die(\textcolor{stringliteral}{"{}Error\ de\ conexión:\ "{}}\ .\ \$e-\/>getMessage());}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00025\ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Documentación de funciones miembro}
\Hypertarget{classApp_1_1Controllers_1_1DatabaseController_ae55b2f1ea6758fbc4f82fe3eff4e28be}\label{classApp_1_1Controllers_1_1DatabaseController_ae55b2f1ea6758fbc4f82fe3eff4e28be} 
\index{App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}!createUser@{createUser}}
\index{createUser@{createUser}!App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}}
\doxysubsubsection{\texorpdfstring{createUser()}{createUser()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Database\+Controller\+::create\+User (\begin{DoxyParamCaption}\item[{}]{\$username,  }\item[{}]{\$email,  }\item[{}]{\$password\+\_\+hash }\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{DatabaseController_8php_source_l00065}{65}} del archivo \mbox{\hyperlink{DatabaseController_8php_source}{Database\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\textcolor{stringliteral}{"{}}}
\DoxyCodeLine{00068\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ INSERT\ INTO\ users\ (username,\ email,\ password\_hash)}}
\DoxyCodeLine{00069\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ VALUES\ (:username,\ :email,\ :password\_hash)}}
\DoxyCodeLine{00070\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ "{}});}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt-\/>bindParam(\textcolor{stringliteral}{':username'},\ \$username);}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt-\/>bindParam(\textcolor{stringliteral}{':email'},\ \$email);}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt-\/>bindParam(\textcolor{stringliteral}{':password\_hash'},\ \$password\_hash);}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$stmt-\/>execute();}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (PDOException\ \$e)\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00080\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1DatabaseController_aa8e8c47fed6b4abaa5694f72f09b25c5}\label{classApp_1_1Controllers_1_1DatabaseController_aa8e8c47fed6b4abaa5694f72f09b25c5} 
\index{App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}!getFungisPaginated@{getFungisPaginated}}
\index{getFungisPaginated@{getFungisPaginated}!App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}}
\doxysubsubsection{\texorpdfstring{getFungisPaginated()}{getFungisPaginated()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Database\+Controller\+::get\+Fungis\+Paginated (\begin{DoxyParamCaption}\item[{}]{\$limit,  }\item[{}]{\$offset }\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{DatabaseController_8php_source_l00028}{28}} del archivo \mbox{\hyperlink{DatabaseController_8php_source}{Database\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\textcolor{stringliteral}{"{}}}
\DoxyCodeLine{00030\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ SELECT\ f.*,\ t.*,\ c.*,}}
\DoxyCodeLine{00031\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GROUP\_CONCAT(DISTINCT\ CONCAT(ic.path,\ i.filename))\ as\ image\_urls}}
\DoxyCodeLine{00032\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ FROM\ fungi\ f}}
\DoxyCodeLine{00033\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ taxonomy\ t\ ON\ f.id\ =\ t.fungi\_id}}
\DoxyCodeLine{00034\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ characteristics\ c\ ON\ f.id\ =\ c.fungi\_id}}
\DoxyCodeLine{00035\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ fungi\_images\ fi\ ON\ f.id\ =\ fi.fungi\_id}}
\DoxyCodeLine{00036\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ images\ i\ ON\ fi.image\_id\ =\ i.id}}
\DoxyCodeLine{00037\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ image\_config\ ic\ ON\ i.config\_key\ =\ ic.config\_key}}
\DoxyCodeLine{00038\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ GROUP\ BY\ f.id}}
\DoxyCodeLine{00039\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LIMIT\ :limit\ OFFSET\ :offset}}
\DoxyCodeLine{00040\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}});}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \$stmt-\/>bindParam(\textcolor{stringliteral}{':limit'},\ \$limit,\ PDO::PARAM\_INT);}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \$stmt-\/>bindParam(\textcolor{stringliteral}{':offset'},\ \$offset,\ PDO::PARAM\_INT);}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \$stmt-\/>execute();}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$stmt-\/>fetchAll(PDO::FETCH\_ASSOC);}
\DoxyCodeLine{00045\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1DatabaseController_aadf93af3dbc66496d286d96274403d05}\label{classApp_1_1Controllers_1_1DatabaseController_aadf93af3dbc66496d286d96274403d05} 
\index{App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}!getRandomFungus@{getRandomFungus}}
\index{getRandomFungus@{getRandomFungus}!App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}}
\doxysubsubsection{\texorpdfstring{getRandomFungus()}{getRandomFungus()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Database\+Controller\+::get\+Random\+Fungus (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{DatabaseController_8php_source_l00047}{47}} del archivo \mbox{\hyperlink{DatabaseController_8php_source}{Database\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\textcolor{stringliteral}{"{}}}
\DoxyCodeLine{00049\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ SELECT\ f.*,\ t.*,\ c.*,\ }}
\DoxyCodeLine{00050\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GROUP\_CONCAT(DISTINCT\ CONCAT(ic.path,\ i.filename))\ as\ image\_urls}}
\DoxyCodeLine{00051\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ FROM\ fungi\ f}}
\DoxyCodeLine{00052\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ taxonomy\ t\ ON\ f.id\ =\ t.fungi\_id}}
\DoxyCodeLine{00053\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ characteristics\ c\ ON\ f.id\ =\ c.fungi\_id}}
\DoxyCodeLine{00054\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ fungi\_images\ fi\ ON\ f.id\ =\ fi.fungi\_id}}
\DoxyCodeLine{00055\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ images\ i\ ON\ fi.image\_id\ =\ i.id}}
\DoxyCodeLine{00056\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ LEFT\ JOIN\ image\_config\ ic\ ON\ i.config\_key\ =\ ic.config\_key}}
\DoxyCodeLine{00057\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ GROUP\ BY\ f.id}}
\DoxyCodeLine{00058\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ ORDER\ BY\ RAND()\ LIMIT\ 1}}
\DoxyCodeLine{00059\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}});}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \$stmt-\/>execute();}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$stmt-\/>fetch(PDO::FETCH\_ASSOC);}
\DoxyCodeLine{00062\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controllers_1_1DatabaseController_aaeb06490c785957e1f89084399ca0496}\label{classApp_1_1Controllers_1_1DatabaseController_aaeb06490c785957e1f89084399ca0496} 
\index{App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}!query@{query}}
\index{query@{query}!App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}}
\doxysubsubsection{\texorpdfstring{query()}{query()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Database\+Controller\+::query (\begin{DoxyParamCaption}\item[{}]{\$sql,  }\item[{}]{\$params = {\ttfamily \mbox{[}\mbox{]}} }\end{DoxyParamCaption})}



Definición en la línea \mbox{\hyperlink{DatabaseController_8php_source_l00082}{82}} del archivo \mbox{\hyperlink{DatabaseController_8php_source}{Database\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt\ =\ \$this-\/>pdo-\/>prepare(\$sql);}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \$stmt-\/>execute(\$params);}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$stmt;}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (PDOException\ \$e)\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ error\_log(\$e-\/>getMessage());}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00091\ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Documentación de datos miembro}
\Hypertarget{classApp_1_1Controllers_1_1DatabaseController_a1358c9aa062b2a03b685d8a1e91fea72}\label{classApp_1_1Controllers_1_1DatabaseController_a1358c9aa062b2a03b685d8a1e91fea72} 
\index{App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}!\$pdo@{\$pdo}}
\index{\$pdo@{\$pdo}!App\textbackslash{}Controllers\textbackslash{}DatabaseController@{App\textbackslash{}Controllers\textbackslash{}DatabaseController}}
\doxysubsubsection{\texorpdfstring{\$pdo}{\$pdo}}
{\footnotesize\ttfamily App\textbackslash{}\+Controllers\textbackslash{}\+Database\+Controller\+::\$pdo\hspace{0.3cm}{\ttfamily [private]}}



Definición en la línea \mbox{\hyperlink{DatabaseController_8php_source_l00011}{11}} del archivo \mbox{\hyperlink{DatabaseController_8php_source}{Database\+Controller.\+php}}.



La documentación de esta clase está generada del siguiente archivo\+:\begin{DoxyCompactItemize}
\item 
src/controllers/\mbox{\hyperlink{DatabaseController_8php}{Database\+Controller.\+php}}\end{DoxyCompactItemize}
